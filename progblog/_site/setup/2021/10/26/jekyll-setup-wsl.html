<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/css/searchoverlay.css" rel="stylesheet"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Setting up Jekyll on WSL | ProgBlog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Setting up Jekyll on WSL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This guide is mainly an accumulation of information from two sources, both from the Jekyll Docs: Windows Installation Troubleshooting Installation: We plan to install Jekyll1 on Ubuntu 20.04 on WSL. For this we have to install Ruby. The Ruby gems, however, we want to install only for the user (instead of a system-wide installation). For this purpose we edit the ~/.bashrc file and add the following: # Ruby exports export GEM_HOME=$HOME/gems export PATH=$HOME/gems/bin:$PATH which basically sets the path where the gems will be installed. We need to source the ~/.bashrc file now… source ~/.bashrc Now we start with the Ruby installation. We install this from the BrightBox PPA (Personal Package Archive): which hosts optimized versions of Ruby for Ubuntu. (ref) sudo apt-add-repository ppa:brightbox/ruby-ng sudo apt-get update sudo apt-get install ruby2.5 ruby2.5-dev build-essential dh-autoreconf Update our gems:2 gem update and finally install Jekyll and Bundler3: gem install jekyll bundler And then we can check the version using jekyll -v. New blog setup: A blog can be quickly set up with jekyll new sitename which will create a folder named sitename with all the relevant files. After that, we can cd sitename and start a server at that location: bundle exec jekyll serve --force-polling (As of 26-Oct-2021) Without the --force-polling option, changes made to files in the site are not reflected upon reload in the website. The command itself displays this warning: Auto-regeneration may not work on some Windows versions. Please see: https://github.com/Microsoft/BashOnWindows/issues/216 If it does not work, please upgrade Bash on Windows or run Jekyll with --no-watch. One can also add the option --livereload to have the website reload automatically when the files are changed. Solution from issue #216 in the WSL repo. We use a fairly old version of Ruby (2.5.8p224) here, following the tutorial. It’s not necessary to do this, but various gems have to have versions whicha re consistent with each other for the whole thing to work. So this is a safe bet. &#8617; In my case, a few gems failed to update properly. &#8617; By default, this fails (version conflict between RubyGems and Ruby?). Fetching: public_suffix-4.0.6.gem (100%) ERROR: While executing gem ... (ArgumentError) wrong number of arguments (given 4, expected 1) however, gem uninstall psych fixes the issue and installation completes successfully (source). TO BE INVESTIGATED. &#8617;" />
<meta property="og:description" content="This guide is mainly an accumulation of information from two sources, both from the Jekyll Docs: Windows Installation Troubleshooting Installation: We plan to install Jekyll1 on Ubuntu 20.04 on WSL. For this we have to install Ruby. The Ruby gems, however, we want to install only for the user (instead of a system-wide installation). For this purpose we edit the ~/.bashrc file and add the following: # Ruby exports export GEM_HOME=$HOME/gems export PATH=$HOME/gems/bin:$PATH which basically sets the path where the gems will be installed. We need to source the ~/.bashrc file now… source ~/.bashrc Now we start with the Ruby installation. We install this from the BrightBox PPA (Personal Package Archive): which hosts optimized versions of Ruby for Ubuntu. (ref) sudo apt-add-repository ppa:brightbox/ruby-ng sudo apt-get update sudo apt-get install ruby2.5 ruby2.5-dev build-essential dh-autoreconf Update our gems:2 gem update and finally install Jekyll and Bundler3: gem install jekyll bundler And then we can check the version using jekyll -v. New blog setup: A blog can be quickly set up with jekyll new sitename which will create a folder named sitename with all the relevant files. After that, we can cd sitename and start a server at that location: bundle exec jekyll serve --force-polling (As of 26-Oct-2021) Without the --force-polling option, changes made to files in the site are not reflected upon reload in the website. The command itself displays this warning: Auto-regeneration may not work on some Windows versions. Please see: https://github.com/Microsoft/BashOnWindows/issues/216 If it does not work, please upgrade Bash on Windows or run Jekyll with --no-watch. One can also add the option --livereload to have the website reload automatically when the files are changed. Solution from issue #216 in the WSL repo. We use a fairly old version of Ruby (2.5.8p224) here, following the tutorial. It’s not necessary to do this, but various gems have to have versions whicha re consistent with each other for the whole thing to work. So this is a safe bet. &#8617; In my case, a few gems failed to update properly. &#8617; By default, this fails (version conflict between RubyGems and Ruby?). Fetching: public_suffix-4.0.6.gem (100%) ERROR: While executing gem ... (ArgumentError) wrong number of arguments (given 4, expected 1) however, gem uninstall psych fixes the issue and installation completes successfully (source). TO BE INVESTIGATED. &#8617;" />
<link rel="canonical" href="http://localhost:4000/setup/2021/10/26/jekyll-setup-wsl.html" />
<meta property="og:url" content="http://localhost:4000/setup/2021/10/26/jekyll-setup-wsl.html" />
<meta property="og:site_name" content="ProgBlog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-26T23:55:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Setting up Jekyll on WSL" />
<script type="application/ld+json">
{"headline":"Setting up Jekyll on WSL","dateModified":"2021-10-26T23:55:00+05:30","datePublished":"2021-10-26T23:55:00+05:30","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/setup/2021/10/26/jekyll-setup-wsl.html"},"url":"http://localhost:4000/setup/2021/10/26/jekyll-setup-wsl.html","description":"This guide is mainly an accumulation of information from two sources, both from the Jekyll Docs: Windows Installation Troubleshooting Installation: We plan to install Jekyll1 on Ubuntu 20.04 on WSL. For this we have to install Ruby. The Ruby gems, however, we want to install only for the user (instead of a system-wide installation). For this purpose we edit the ~/.bashrc file and add the following: # Ruby exports export GEM_HOME=$HOME/gems export PATH=$HOME/gems/bin:$PATH which basically sets the path where the gems will be installed. We need to source the ~/.bashrc file now… source ~/.bashrc Now we start with the Ruby installation. We install this from the BrightBox PPA (Personal Package Archive): which hosts optimized versions of Ruby for Ubuntu. (ref) sudo apt-add-repository ppa:brightbox/ruby-ng sudo apt-get update sudo apt-get install ruby2.5 ruby2.5-dev build-essential dh-autoreconf Update our gems:2 gem update and finally install Jekyll and Bundler3: gem install jekyll bundler And then we can check the version using jekyll -v. New blog setup: A blog can be quickly set up with jekyll new sitename which will create a folder named sitename with all the relevant files. After that, we can cd sitename and start a server at that location: bundle exec jekyll serve --force-polling (As of 26-Oct-2021) Without the --force-polling option, changes made to files in the site are not reflected upon reload in the website. The command itself displays this warning: Auto-regeneration may not work on some Windows versions. Please see: https://github.com/Microsoft/BashOnWindows/issues/216 If it does not work, please upgrade Bash on Windows or run Jekyll with --no-watch. One can also add the option --livereload to have the website reload automatically when the files are changed. Solution from issue #216 in the WSL repo. We use a fairly old version of Ruby (2.5.8p224) here, following the tutorial. It’s not necessary to do this, but various gems have to have versions whicha re consistent with each other for the whole thing to work. So this is a safe bet. &#8617; In my case, a few gems failed to update properly. &#8617; By default, this fails (version conflict between RubyGems and Ruby?). Fetching: public_suffix-4.0.6.gem (100%) ERROR: While executing gem ... (ArgumentError) wrong number of arguments (given 4, expected 1) however, gem uninstall psych fixes the issue and installation completes successfully (source). TO BE INVESTIGATED. &#8617;","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="ProgBlog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ProgBlog</a>

    <script>
      $(document).ready(function() {
      $('#close-btn').click(function() {
        $('#search-overlay').fadeOut();
        $('#search-btn').show();
      });
      $('#search-btn').click(function() {
        $(this).hide();
        $('#search-overlay').fadeIn();
      });
    });
    </script>
    
    <i id="search-btn" class="fa fa-search fa-2x"></i>
    <div id="search-overlay" class="block">
      <div class="centered">
        <!-- <div id='search-box'>
          <i id="close-btn" class="fa fa-times fa-2x"></i>
          <form action='/search' id='search-form' method='get' target='_top'>
            <input id='search-text' name='q' placeholder='Search' type='text' />
            <button id='search-button' type='submit'>                     
              <i id="search-btn" class="fa fa-search fa-2x"></i>
            </button>
          </form>
        </div> -->

        <!-- Html Elements for Search -->
        <div id="search-box">
          <i id="close-btn" class="fa fa-times fa-2x"></i>
          <input type="text" id="search-input" class="mousetrap" placeholder="Start searching...">
          <ul id="results-container"></ul>
        </div>
      </div>
    </div>
    <!-- Script pointing to search-script.js -->
    <script src="/js/search-script.js" type="text/javascript"></script>

    <!-- Configuration -->
    <script>
    var srch = SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '/search.json',
      searchResultTemplate: `
      <li>
        <div style="display:inline"><a href="{url}" title="{desc}">{title}</a></div>
        <div style="width:20%; float:right; border-left:2px solid #777"><span style="padding-left: 5px; opacity:0.75">{category}</span></div>
      </li>
      `
    })
    </script>

    <!-- Custom keybind to search -->
    <script>
      function showSearch() {
        if($('#close-btn').is(":hidden")) {
          $('#search-btn').click();
          $('#search-input').focus();
        }
      }
      function hideSearch() {
        if($('#search-btn').is(":hidden")) {
          $('#close-btn').click();
        }
      }
      Mousetrap.bind(['command+shift+f', 'ctrl+shift+f'], showSearch);
      Mousetrap.bind(['escape'], hideSearch);
    </script>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Setting up Jekyll on WSL</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-10-26T23:55:00+05:30" itemprop="datePublished">Oct 26, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    
<p>This guide is mainly an accumulation of information from two sources, both from the <em>Jekyll Docs</em>:</p>
<ul>
  <li><a href="https://jekyllrb.com/docs/installation/windows/">Windows Installation</a></li>
  <li><a href="https://jekyllrb.com/docs/troubleshooting/#no-sudo">Troubleshooting</a></li>
</ul>

<h3 id="installation">Installation:</h3>

<p>We plan to install Jekyll<sup id="fnref:vernote" role="doc-noteref"><a href="#fn:vernote" class="footnote" rel="footnote">1</a></sup> on <strong>Ubuntu 20.04 on WSL</strong>. For this we have to install <strong>Ruby</strong>. The Ruby <em>gems</em>, however, we want to install only for the user (instead of a system-wide installation). For this purpose we edit the <em>~/.bashrc</em> file and add the following:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Ruby exports</span>

<span class="nb">export </span><span class="nv">GEM_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/gems
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/gems/bin:<span class="nv">$PATH</span>
</code></pre></div></div>
<p>which basically sets the path where the <em>gems</em> will be installed. We need to source the <em>~/.bashrc</em> file now…</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ~/.bashrc
</code></pre></div></div>

<p>Now we start with the <strong>Ruby</strong> installation. We install this from the <strong>BrightBox</strong> PPA (Personal Package Archive):</p>
<blockquote>
  <p>which hosts optimized versions of Ruby for Ubuntu. <a href="https://jekyllrb.com/docs/installation/windows/">(ref)</a></p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-add-repository ppa:brightbox/ruby-ng
<span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>ruby2.5 ruby2.5-dev build-essential dh-autoreconf
</code></pre></div></div>
<p>Update our gems:<sup id="fnref:failnote1" role="doc-noteref"><a href="#fn:failnote1" class="footnote" rel="footnote">2</a></sup></p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem update
</code></pre></div></div>
<p>and finally install <strong>Jekyll</strong> and <strong>Bundler</strong><sup id="fnref:failnote2" role="doc-noteref"><a href="#fn:failnote2" class="footnote" rel="footnote">3</a></sup>:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>jekyll bundler
</code></pre></div></div>
<p>And then we can check the version using <code class="language-plaintext highlighter-rouge">jekyll -v</code>.</p>

<h3 id="new-blog-setup">New blog setup:</h3>

<p>A blog can be quickly set up with</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new sitename
</code></pre></div></div>
<p>which will create a folder named <em>sitename</em> with all the relevant files. After that, we can <code class="language-plaintext highlighter-rouge">cd sitename</code> and start a server at that location:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve <span class="nt">--force-polling</span>
</code></pre></div></div>
<p><em>(As of 26-Oct-2021)</em> Without the <code class="language-plaintext highlighter-rouge">--force-polling</code> option, changes made to files in the site are not reflected upon reload in the website. The command itself displays this warning:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Auto-regeneration may not work on some Windows versions.
Please see: https://github.com/Microsoft/BashOnWindows/issues/216
If it does not work, please upgrade Bash on Windows or run Jekyll with --no-watch.
</code></pre></div></div>
<p>One can also add the option <code class="language-plaintext highlighter-rouge">--livereload</code> to have the website reload automatically when the files are changed. Solution from issue <a href="https://github.com/microsoft/WSL/issues/216#issuecomment-716047269">#216</a> in the <em>WSL repo</em>.</p>

<hr />

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:vernote" role="doc-endnote">
      <p>We use a fairly old version of <strong>Ruby</strong> (2.5.8p224) here, following the tutorial. It’s not necessary to do this, but various gems have to have versions whicha re consistent with each other for the whole thing to work. So this is a safe bet. <a href="#fnref:vernote" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:failnote1" role="doc-endnote">
      <p>In my case, a few gems failed to update properly. <a href="#fnref:failnote1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:failnote2" role="doc-endnote">
      <p>By default, this fails (version conflict between <strong>RubyGems</strong> and <strong>Ruby</strong>?).</p>
      <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fetching: public_suffix-4.0.6.gem <span class="o">(</span>100%<span class="o">)</span>
ERROR:  While executing gem ... <span class="o">(</span>ArgumentError<span class="o">)</span>
wrong number of arguments <span class="o">(</span>given 4, expected 1<span class="o">)</span>
</code></pre></div>      </div>
      <p>however, <code class="language-plaintext highlighter-rouge">gem uninstall psych</code> fixes the issue and installation completes successfully (<a href="https://stackguides.com/questions/68899508/gem-install-wrong-number-of-arguments-given-4-expected-1">source</a>). <span style="color:red"><em>TO BE INVESTIGATED.</em></span> <a href="#fnref:failnote2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

  </div><a class="u-url" href="/setup/2021/10/26/jekyll-setup-wsl.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">ProgBlog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">ProgBlog</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/amzon-ex"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">amzon-ex</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A blog documenting progress</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
